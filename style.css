@import url('https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&family=Playfair+Display:wght@900&display=swap');

*{
  box-sizing:border-box;
  font-family:'Prompt',sans-serif;
}

body{
  margin:0;
  min-height:100vh;
  background:
    radial-gradient(1200px 600px at 50% -200px,#ffe9f3,transparent),
    radial-gradient(800px 400px at 10% 20%,#ffd3e7,transparent),
    linear-gradient(180deg,#ffd1e8,#ff8fc4);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  perspective:1200px;
}

/* =========================
   NICHA BACKGROUND (DEPTH)
========================= */
.nicha-bg{
  position:fixed;
  top:-70px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Playfair Display',serif;
  font-size:160px;
  font-weight:900;
  letter-spacing:32px;
  color:rgba(255,255,255,.18);
  pointer-events:none;
  z-index:0;
  filter:blur(.6px);
  animation:nichaDrift 26s ease-in-out infinite;
  text-shadow:
    0 20px 60px rgba(255,120,180,.35);
}

/* ลอย + drift ตลอดเวลา */
@keyframes nichaDrift{
  0%   {transform:translate(-50%, 0)}
  25%  {transform:translate(-47%, 18px)}
  50%  {transform:translate(-50%, 36px)}
  75%  {transform:translate(-53%, 18px)}
  100% {transform:translate(-50%, 0)}
}

/* =========================
   GLASS CARD (MULTI LAYER)
========================= */
.card{
  position:relative;
  z-index:2;
  width:340px;
  padding:28px;
  border-radius:28px;
  background:
    linear-gradient(180deg,
      rgba(255,255,255,.95),
      rgba(255,235,245,.9)
    );
  backdrop-filter:blur(18px) saturate(1.2);
  box-shadow:
    0 30px 60px rgba(255,80,150,.35),
    0 80px 160px rgba(255,80,150,.25),
    inset 0 1px 0 rgba(255,255,255,.9);
  animation:cardFloat 7s ease-in-out infinite;
  transform-style:preserve-3d;
}

/* การ์ดลอย */
@keyframes cardFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

/* แสงสะท้อน */
.card::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background:
    linear-gradient(120deg,
      transparent,
      rgba(255,160,210,.45),
      transparent);
  opacity:.4;
  pointer-events:none;
}

/* =========================
   TEXT DEPTH + TYPE READY
========================= */
h1{
  text-align:center;
  color:#d94b8c;
  margin-bottom:10px;
  text-shadow:
    0 4px 12px rgba(255,90,150,.45),
    0 0 18px rgba(255,160,210,.4);
}

p{
  text-align:center;
  color:#5c2a3c;
  line-height:1.6;
  text-shadow:0 2px 8px rgba(255,120,180,.25);
}

/* Cursor สำหรับ typewriter */
.type{
  border-right:2px solid rgba(217,75,140,.8);
  padding-right:4px;
}

/* =========================
   BUTTON (DEPTH + PRESS)
========================= */
.btn{
  display:block;
  margin:18px auto 0;
  padding:14px;
  width:100%;
  border:none;
  border-radius:22px;
  background:linear-gradient(135deg,#ff5fa2,#ff87c2);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  box-shadow:
    0 10px 30px rgba(255,80,150,.45),
    inset 0 2px 6px rgba(255,255,255,.4);
  transition:.25s;
}

.btn:hover{
  transform:translateY(-4px) scale(1.04);
}

.btn:active{
  transform:scale(.96);
}

/* =========================
   MENU GRID (3D)
========================= */
.menu{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}

.menu-item{
  background:rgba(255,255,255,.88);
  border-radius:18px;
  padding:16px;
  text-align:center;
  box-shadow:
    0 14px 28px rgba(0,0,0,.12),
    inset 0 1px 0 rgba(255,255,255,.9);
  transition:.35s cubic-bezier(.25,.8,.25,1);
  transform-style:preserve-3d;
}

.menu-item:hover{
  transform:
    translateY(-8px)
    rotateX(8deg)
    scale(1.05);
}

/* =========================
   LOCK + SHAKE
========================= */
.pin{
  display:flex;
  justify-content:space-between;
  margin:16px 0;
}

.pin div{
  width:40px;
  height:40px;
  border-radius:12px;
  background:#fff;
  box-shadow:
    inset 0 0 6px rgba(0,0,0,.15),
    0 4px 10px rgba(255,120,170,.25);
}

.keypad{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}

.keypad button{
  padding:16px;
  border:none;
  border-radius:14px;
  background:#fff;
  font-size:16px;
  box-shadow:0 8px 18px rgba(0,0,0,.15);
  transition:.2s;
}

.keypad button:active{
  transform:scale(.94);
}

.shake{
  animation:shake .4s;
}
@keyframes shake{
  0%,100%{transform:translateX(0)}
  25%{transform:translateX(-6px)}
  75%{transform:translateX(6px)}
}
/* =========================
   CLICK SAFE ZONE
========================= */
.lock-wrapper{
  position:relative;
  z-index:10;
  pointer-events:auto;
}

/* ❌ ห้าม transform card ที่ต้องคลิก */
.lock-wrapper .card{
  animation:none !important;
  transform:none !important;
}

/* =========================
   POPUP GUI
========================= */
.popup-lock{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.popup-box{
  background:white;
  padding:30px;
  border-radius:26px;
  text-align:center;
  width:80%;
  max-width:320px;
  animation:popup .35s ease;
  box-shadow:0 30px 60px rgba(0,0,0,.35);
}

.popup-box h2{
  margin:0;
  color:#ff4f87;
}

.popup-box.success h2{
  color:#2ecc71;
}

@keyframes popup{
  from{transform:scale(.7);opacity:0}
  to{transform:scale(1);opacity:1}
}
/* =========================
   FLOATING BACK MENU BUTTON
========================= */
.back-menu-btn{
  position:fixed;
  bottom:20px;
  left:20px;
  padding:12px 18px;
  border-radius:30px;
  background:linear-gradient(135deg,#ffffff,#ffe3ee);
  color:#d94b8c;
  font-size:14px;
  font-weight:600;
  box-shadow:
    0 12px 30px rgba(0,0,0,.18),
    inset 0 2px 6px rgba(255,255,255,.9);
  cursor:pointer;
  z-index:999;               /* สูงกว่า popup */
  animation:backFloat 4s ease-in-out infinite;
  transition:.25s;
  user-select:none;
}

.back-menu-btn:hover{
  transform:translateY(-4px) scale(1.05);
  background:linear-gradient(135deg,#ffe3ee,#ffd1e8);
}

.back-menu-btn:active{
  transform:scale(.94);
}

/* ลอยเบา ๆ */
@keyframes backFloat{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-6px)}
}
